<!DOCTYPE html>
<html>
<head>
  <title>canvas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
</head>
<body>
  <div>
    <h1>asdhakjsd</h1>
    <input type="text">
    <canvas id="content" width="300px" height="300px"  style="background:#eee" ></canvas>
  </div>

<script type="text/javascript">
  let c = document.getElementById('content');
  let ctx = c.getContext('2d');
  // ctx.fillStyle="#999";
  // ctx.fillRect(100,100,75,75);
  // ctx.moveTo(0, 0);
  // ctx.lineTo(100,100);
  // ctx.stroke();
  // ctx.beginPath();
  // ctx.arc(200,200,50,0,2*Math.PI)
  // ctx.stroke();
  // let grd=ctx.createLinearGradient(0,0,0,50)
  // grd.addColorStop(0,"#999")
  // grd.addColorStop(1,"#222")
  // ctx.font="30px 微软雅黑";
  // ctx.fillText('rick',150,20)
  // ctx.strokeText('rick',50,50)
  // ctx.fillStyle=grd;
  // ctx.fillRect(10,10,50,50)
  // var grdr=ctx.createRadialGradient(75,50,5,90,60,100);
  // grdr.addColorStop(0,"red");
  // grdr.addColorStop(1,"white");
  // ctx.fillStyle=grdr;
  // ctx.fillRect(10,10,150,80);
  // let img=document.createElement('img')
  // img.src='./logo.png';
  // img.style="width:100px;height:100px;"
  // if (img.complete) { // 如果图片已经存在于浏览器缓存，直接调用回调函数
  //   ctx.drawImage(img,0,100);
  //    // 直接返回，不用再处理onload事件
  // }

  // img.onload = function () { // 图片下载完毕时异步调用callback函数。
  //   ctx.drawImage(img, 0, 100);// 将回调函数的this替换为Image对象
  // };
  c.addEventListener('touchstart', function (e) {
    ctx.beginPath();
    ctx.lineWidth = 2;
    ctx.lineCap = 'round';
    ctx.lineJoin = 'round';
    ctx.strokeStyle = '#999';
    let point = {
      x: e.touches[0].clientX - c.offsetLeft,
      y: e.touches[0].clientY - c.offsetTop
    }
    ctx.moveTo(point.x, point.y);
    console.log(point)
    document.addEventListener('touchmove', function (e) {
      let pointe = {
        x: e.touches[0].clientX - c.offsetLeft,
        y: e.touches[0].clientY - c.offsetTop
      }
      console.log(point)
      ctx.lineTo(pointe.x, pointe.y);
      ctx.stroke();
    })
  })
  c.addEventListener('touchend', function (){
    document.ontouchmove = document.ontouchend = null;
  })
</script>
</body>
</html>
